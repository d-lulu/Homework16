# Работа с массивами в C

## 📋 Задания к лаб. 11

1. Заполнение массива с консоли
2. Преобразование массива
3. Найти среднее арифметическое значений элементов массива за исключением нулевых элементов

## 📋 Задания к лаб. 14

1. Заполнение массива значениями из функции func(x)
2.  Преобразование массива
3.  Вычисление суммы элементов массива
4.  Поиск в массиве значения равного element
5.  Поиск максимального по модулю значения, не равного заданному А


## 📋 Задания к лаб. 16
1. Заполнение массива значениями от -1 до 1
2. Удаление всех элементов меньших среднего арифметического
3. Вставка -999 перед первым отрицательным элементом
4. Заполнение массива array_d по принципу array_d[i] = min(array_a[i], array_b[i], array_c[i])

## 📁 Структура проекта


lab-arrays/

├── src/

│   ├── arrays.h

│   ├── arrays.c

│   └── main.c

├── tests/

│   ├── test_arrays.c

│   └── run_tests.sh

├── Makefile

└── README.md


# База данных "Социальная сеть"

Консольная программа на языке C для управления списком пользователей социальной сети. Позволяет добавлять, искать, сортировать и сохранять данные о пользователях.

## 📁 Структура проекта

social-network-db/
├── src/                   
│   ├── main.c             
│   ├── interface.c        
│   ├── operations.c       
│   └── social_network.h   
├── data/                  
│   └── Social_Network.txt 
├── docs/                 
│   └── README.md          
├── build/                 
└── .gitignore           

## 📋 Функционал

### 📊 Управление записями
- **Просмотр всех записей** – Табличное отображение всех пользователей
- **Добавление новых записей** – Пошаговый диалог с валидацией данных
- **Редактирование записей** – Перезапись существующих записей
- **Динамическое управление памятью** – Автоматическое выделение памяти

### 🔍 Система поиска
- **Поиск по городу** – Нахождение всех пользователей из указанного города
- **Комбинированный поиск** – Фильтрация по возрасту И интересу одновременно
- **Интеллектуальные результаты** – Динамическое выделение памяти под результаты

### 📈 Сортировка и анализ
- **Многоуровневая сортировка** по приоритету:
  1. Дата регистрации (по убыванию – новые первыми)
  2. Количество друзей (по возрастанию)
  3. Статус активности (онлайн первыми)
- **Быстрая сортировка** – Использование оптимизированного алгоритма qsort

### 💾 Работа с файлами
- **Сохранение в текстовый файл** – Человекочитаемый формат с разделителями
- **Загрузка из файла** – Восстановление полного состояния базы данных
- **Контроль целостности** – Проверка корректности загружаемых данных

### 🧪 Тестирование и отладка
- **Генерация тестовых данных** – Автоматическое заполнение случайными значениями
- **Валидация ввода** – Защита от некорректных данных
- **Подробные сообщения об ошибках** – Помощь в диагностике проблем

## 🔧 Реализованные функции

### 1. `int Menu()`
- **Назначение**: Отображение главного меню программы и обработка выбора пользователя
- **Возвращает**: выбранный пункт меню (0-9)

### 2. `void show_Note(Social_Network* NOTES, int i)`
- **Назначение**: Отображение информации об одном пользователе
- **Параметры**:
  - `NOTES` - указатель на массив структур
  - `i` - индекс записи для отображения

### 3. `char* add_NewNote(Social_Network* NOTES, int n_count, char* mistake)`
- **Назначение**: Добавление новой записи или редактирование существующей
- **Параметры**:
  - `NOTES` - указатель на массив структур
  - `n_count` - индекс новой записи или редактируемой записи
  - `mistake` - строка для сообщений об ошибках
- **Возвращает**: указатель на строку с результатом операции

### 4. `void show_search_results(Social_Network* NOTES, int* found_count)`
- **Назначение**: Отображение результатов поиска
- **Параметры**:
  - `NOTES` - указатель на массив найденных записей
  - `found_count` - количество найденных записей

### 5. `Social_Network* single_search(Social_Network* NOTES, int n_count, char* city, int* found_count)`
- **Назначение**: Поиск пользователей по указанному городу
- **Параметры**:
  - `NOTES` - указатель на массив всех записей
  - `n_count` - общее количество записей
  - `city` - город для поиска
  - `found_count` - указатель для возврата количества найденных записей
- **Возвращает**: указатель на массив найденных записей

### 6. `Social_Network* comb_search(Social_Network* NOTES, int n_count, int age, int interest, int* found_count)`
- **Назначение**: Комбинированный поиск по возрасту и интересу
- **Параметры**:
  - `NOTES` - указатель на массив всех записей
  - `n_count` - общее количество записей
  - `age` - возраст для поиска
  - `interest` - интерес для поиска
  - `found_count` - указатель для возврата количества найденных записей
- **Возвращает**: указатель на массив найденных записей

### 7. `int saveToFile(Social_Network* NOTES, int n_count, char* fname)`
- **Назначение**: Сохранение всех записей в текстовый файл
- **Параметры**:
  - `NOTES` - указатель на массив записей
  - `n_count` - количество записей
  - `fname` - имя файла для сохранения
- **Возвращает**: 0 при успешном сохранении, -1 при ошибке

### 8. `int loadFromFileCompactSimple(Social_Network* NOTES, int* n_count, int max_size, const char* fname)`
- **Назначение**: Загрузка записей из текстового файла
- **Параметры**:
  - `NOTES` - указатель на массив для загрузки
  - `n_count` - текущее количество записей (будет обновлено)
  - `max_size` - максимальный размер базы данных
  - `fname` - имя файла для загрузки
- **Возвращает**: количество загруженных записей или код ошибки

### 9. `int compare(const void* a, const void* b)`
- **Назначение**: Функция сравнения для сортировки записей
- **Параметры**:
  - `a`, `b` - указатели на сравниваемые записи
- **Возвращает**: -1, 0, 1 в зависимости от результата сравнения

### 10. `void test_fill(Social_Network* NOTES, int test_count)`
- **Назначение**: Заполнение базы данных тестовыми значениями
- **Параметры**:
  - `NOTES` - указатель на массив для заполнения
  - `test_count` - количество тестовых записей для создания

### 11. `int getRandomNumber(int a, int b)`
- **Назначение**: Генерация случайного целого числа в заданном диапазоне
- **Параметры**:
  - `a` - минимальное значение
  - `b` - максимальное значение
- **Возвращает**: случайное число в диапазоне [a, b]

### 12. `int main()`
- **Назначение**: Главная функция программы, управление основным циклом
- **Возвращает**: 0 при успешном завершении, -1 при ошибке

## Автор
Лукьянова Алина, бТИИ-251
